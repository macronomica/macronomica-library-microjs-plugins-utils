{"version":3,"sources":["../src/get-config-dal.js"],"names":["dbOptions","has","get","Error","join","driver"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;kBAEe,YAAM;AACnB,MAAMA,YAAY,iBAAOC,GAAP,CAAW,IAAX,IAAmB,6BAAc,iBAAOC,GAAP,CAAW,IAAX,CAAd,CAAnB,GAAqD,IAAvE;;AAEA,MAAIF,cAAc,IAAlB,EAAwB;AACtB,UAAM,IAAIG,KAAJ,CAAU,CACd,oCADc,EAEd,MAFc,EAGd,qBAHc,EAId,sBAJc,EAKd,iBALc,EAMd,8BANc,EAOd,qBAPc,EAQd,qBARc,EASdC,IATc,CAST,IATS,CAAV,CAAN;AAUD;;AAED,MAAIJ,UAAUK,MAAV,KAAqB,UAAzB,EAAqC;AACnC,UAAM,IAAIF,KAAJ,8DAAyBH,UAAUK,MAAnC,kGAAN;AACD;;AAED,SAAOL,SAAP;AACD,C","file":"get-config-dal.js","sourcesContent":["import config from 'config';\nimport prepareConfig from './prepare-config';\n\nexport default () => {\n  const dbOptions = config.has('db') ? prepareConfig(config.get('db')) : null;\n  \n  if (dbOptions === null) {\n    throw new Error([\n      'Отсутвуют свойства в конфигурации:',\n      '[db]',\n      'driver   = postgres',\n      'host     = 127.0.0.1',\n      'port     = 5432',\n      'database = macronomica-local',\n      'username = postgres',\n      'password = postgres'\n    ].join('\\r'));\n  }\n  \n  if (dbOptions.driver !== 'postgres') {\n    throw new Error(`Драйвер бд ${ dbOptions.driver } не поддрживается`);\n  }\n\n  return dbOptions;\n};"]}